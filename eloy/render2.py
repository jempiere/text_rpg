import blessed
from dataclasses import dataclass
import time

img1 = """
\x1B[0;33m⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠟⠛⠛⠛⠋⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠙⠛⠛⠛⠿⠻⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿\x1B[0m
\x1B[0;33m⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠋⠀⠀⠀⠀⠀⡀⠠⠤⠒⢂⣉⣉⣉⣑⣒⣒⠒⠒⠒⠒⠒⠒⠒⠀⠀⠐⠒⠚⠻⠿⠿⣿⣿⣿⣿⣿⣿⣿⣿\x1B[0m
\x1B[0;33m⣿⣿⣿⣿⣿⣿⣿⣿⠏⠀⠀⠀⠀⡠⠔⠉⣀⠔⠒⠉⣀⣀⠀⠀⠀⣀⡀⠈⠉⠑⠒⠒⠒⠒⠒⠈⠉⠉⠉⠁⠂⠀⠈⠙⢿⣿⣿⣿⣿⣿\x1B[0m
\x1B[0;33m⣿⣿⣿⣿⣿⣿⣿⠇⠀⠀⠀⠔⠁⠠⠖⠡⠔⠊⠀⠀⠀⠀⠀⠀⠀⠐⡄⠀⠀⠀⠀⠀⠀⡄⠀⠀⠀⠀⠉⠲⢄⠀⠀⠀⠈⣿⣿⣿⣿⣿\x1B[0m
\x1B[0;33m⣿⣿⣿⣿⣿⣿⠋⠀⠀⠀⠀⠀⠀⠀⠊⠀⢀⣀⣤⣤⣤⣤⣀⠀⠀⠀⢸⠀⠀⠀⠀⠀⠜⠀⠀⠀⠀⣀⡀⠀⠈⠃⠀⠀⠀⠸⣿⣿⣿⣿\x1B[0m
\x1B[0;33m⣿⣿⣿⣿⡿⠥⠐⠂⠀⠀⠀⠀⡄⠀⠰⢺⣿⣿⣿⣿⣿⣟⠀⠈⠐⢤⠀⠀⠀⠀⠀⠀⢀⣠⣶⣾⣯⠀⠀⠉⠂⠀⠠⠤⢄⣀⠙⢿⣿⣿\x1B[0m
\x1B[0;33m⣿⡿⠋⠡⠐⠈⣉⠭⠤⠤⢄⡀⠈⠀⠈⠁⠉⠁⡠⠀⠀⠀⠉⠐⠠⠔⠀⠀⠀⠀⠀⠲⣿⠿⠛⠛⠓⠒⠂⠀⠀⠀⠀⠀⠀⠠⡉⢢⠙⣿\x1B[0m \x1B[1;31m MURDER \x1B[0m
\x1B[0;33m⣿⠀⢀⠁⠀⠊⠀⠀⠀⠀⠀⠈⠁⠒⠂⠀⠒⠊⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡇⠀⠀⠀⠀⠀⢀⣀⡠⠔⠒⠒⠂⠀⠈⠀⡇⣿\x1B[0m
\x1B[0;33m⣿⠀⢸⠀⠀⠀⢀⣀⡠⠋⠓⠤⣀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠄⠀⠀⠀⠀⠀⠀⠈⠢⠤⡀⠀⠀⠀⠀⠀⠀⢠⠀⠀⠀⡠⠀⡇⣿\x1B[0m
\x1B[0;33m⣿⡀⠘⠀⠀⠀⠀⠀⠘⡄⠀⠀⠀⠈⠑⡦⢄⣀⠀⠀⠐⠒⠁⢸⠀⠀⠠⠒⠄⠀⠀⠀⠀⠀⢀⠇⠀⣀⡀⠀⠀⢀⢾⡆⠀⠈⡀⠎⣸⣿\x1B[0m
\x1B[0;33m⣿⣿⣄⡈⠢⠀⠀⠀⠀⠘⣶⣄⡀⠀⠀⡇⠀⠀⠈⠉⠒⠢⡤⣀⡀⠀⠀⠀⠀⠀⠐⠦⠤⠒⠁⠀⠀⠀⠀⣀⢴⠁⠀⢷⠀⠀⠀⢰⣿⣿\x1B[0m
\x1B[0;33m⣿⣿⣿⣿⣇⠂⠀⠀⠀⠀⠈⢂⠀⠈⠹⡧⣀⠀⠀⠀⠀⠀⡇⠀⠀⠉⠉⠉⢱⠒⠒⠒⠒⢖⠒⠒⠂⠙⠏⠀⠘⡀⠀⢸⠀⠀⠀⣿⣿⣿\x1B[0m
\x1B[0;33m⣿⣿⣿⣿⣿⣧⠀⠀⠀⠀⠀⠀⠑⠄⠰⠀⠀⠁⠐⠲⣤⣴⣄⡀⠀⠀⠀⠀⢸⠀⠀⠀⠀⢸⠀⠀⠀⠀⢠⠀⣠⣷⣶⣿⠀⠀⢰⣿⣿⣿\x1B[0m
\x1B[0;33m⣿⣿⣿⣿⣿⣿⣧⠀⠀⠀⠀⠀⠀⠀⠁⢀⠀⠀⠀⠀⠀⡙⠋⠙⠓⠲⢤⣤⣷⣤⣤⣤⣤⣾⣦⣤⣤⣶⣿⣿⣿⣿⡟⢹⠀⠀⢸⣿⣿⣿\x1B[0m
\x1B[0;33m⣿⣿⣿⣿⣿⣿⣿⣧⡀⠀⠀⠀⠀⠀⠀⠀⠑⠀⢄⠀⡰⠁⠀⠀⠀⠀⠀⠈⠉⠁⠈⠉⠻⠋⠉⠛⢛⠉⠉⢹⠁⢀⢇⠎⠀⠀⢸⣿⣿⣿\x1B[0m
\x1B[0;33m⣿⣿⣿⣿⣿⣿⣿⣿⣿⣦⣀⠈⠢⢄⡉⠂⠄⡀⠀⠈⠒⠢⠄⠀⢀⣀⣀⣰⠀⠀⠀⠀⠀⠀⠀⠀⡀⠀⢀⣎⠀⠼⠊⠀⠀⠀⠘⣿⣿⣿\x1B[0m
\x1B[0;33m⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣄⡀⠉⠢⢄⡈⠑⠢⢄⡀⠀⠀⠀⠀⠀⠀⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠁⠀⠀⢀⠀⠀⠀⠀⠀⢻⣿⣿\x1B[0m
\x1B[0;33m⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣦⣀⡈⠑⠢⢄⡀⠈⠑⠒⠤⠄⣀⣀⠀⠉⠉⠉⠉⠀⠀⠀⣀⡀⠤⠂⠁⠀⢀⠆⠀⠀⢸⣿⣿\x1B[0m
\x1B[0;33m⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣦⣄⡀⠁⠉⠒⠂⠤⠤⣀⣀⣉⡉⠉⠉⠉⠉⢀⣀⣀⡠⠤⠒⠈⠀⠀⠀⠀⣸⣿⣿\x1B[0m
\x1B[0;33m⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣶⣤⣄⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣰⣿⣿⣿\x1B[0m
\x1B[0;33m⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣶⣶⣶⣤⣤⣤⣤⣀⣀⣤⣤⣤⣶⣾⣿⣿⣿⣿⣿\x1B[0m
"""
img2 = """
\x1B[0;32m░░░░░░░░░░░░░░▄▄▄▄▄▄▄▄▄▄▄▄░░░░░░░░░░░░░░\x1B[0m
\x1B[0;32m░░░░░░░░░░░░▄████████████████▄░░░░░░░░░░\x1B[0m     Nicholas cage admonishes you to not commit this \x1B[1;31mMURDER\x1B[0m
\x1B[0;32m░░░░░░░░░░▄██▀░░░░░░░▀▀████████▄░░░░░░░░\x1B[0m
\x1B[0;32m░░░░░░░░░▄█▀░░░░░░░░░░░░░▀▀██████▄░░░░░░\x1B[0m
\x1B[0;32m░░░░░░░░░███▄░░░░░░░░░░░░░░░▀██████░░░░░\x1B[0m
\x1B[0;32m░░░░░░░░▄░░▀▀█░░░░░░░░░░░░░░░░██████░░░░\x1B[0m
\x1B[0;32m░░░░░░░█▄██▀▄░░░░░▄███▄▄░░░░░░███████░░░\x1B[0m
\x1B[0;32m░░░░░░▄▀▀▀██▀░░░░░▄▄▄░░▀█░░░░█████████░░\x1B[0m
\x1B[0;32m░░░░░▄▀░░░░▄▀░▄░░█▄██▀▄░░░░░██████████░░\x1B[0m
\x1B[0;32m░░░░░█░░░░▀░░░█░░░▀▀▀▀▀░░░░░██████████▄░\x1B[0m
\x1B[0;32m░░░░░░░▄█▄░░░░░▄░░░░░░░░░░░░██████████▀░\x1B[0m
\x1B[0;32m░░░░░░█▀░░░░▀▀░░░░░░░░░░░░░███▀███████░░\x1B[0m
\x1B[0;32m░░░▄▄░▀░▄░░░░░░░░░░░░░░░░░░▀░░░██████░░░\x1B[0m
\x1B[0;32m██████░░█▄█▀░▄░░██░░░░░░░░░░░█▄█████▀░░░\x1B[0m
\x1B[0;32m██████░░░▀████▀░▀░░░░░░░░░░░▄▀█████████▄\x1B[0m
\x1B[0;32m██████░░░░░░░░░░░░░░░░░░░░▀▄████████████\x1B[0m
\x1B[0;32m██████░░▄░░░░░░░░░░░░░▄░░░██████████████\x1B[0m
\x1B[0;32m██████░░░░░░░░░░░░░▄█▀░░▄███████████████\x1B[0m
\x1B[0;32m███████▄▄░░░░░░░░░▀░░░▄▀▄███████████████\x1B[0m
"""



@dataclass
class Renderable:
    visual: str

@dataclass
class Region:
    identifier: str
    xpos: int
    ypos: int
    renderable: int

@dataclass
class _temp:
    renderables = [Renderable(img1),Renderable(img2)]
    def get_component(self,*a):
        return [
            Region('a', 0, 0, 0),
            Region('b', 0,30, 1),
        ]
    def component_for_entity(self,index,*a):
        return self.renderables[index]
esper = _temp()

terminal = blessed.Terminal()

def renderRegions():
    print('\x1Bc')
    for region in esper.get_component(Region):
        renderable = esper.component_for_entity(region.renderable, Renderable)

        with terminal.cbreak(), terminal.location(region.xpos, region.ypos):
            print(renderable.visual)

    with terminal.cbreak():
        terminal.inkey()





def render():
    ok = True
    print('\x1Bc')
    while ok:
        try:
            renderRegions()
        except Exception as e:
            ok = False
            print(e)

render()
